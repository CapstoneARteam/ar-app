(this["webpackJsonpar-app"]=this["webpackJsonpar-app"]||[]).push([[0],{159:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=159},353:function(e,t,n){e.exports=n(709)},358:function(e,t,n){},359:function(e,t,n){},377:function(e,t){},379:function(e,t){},389:function(e,t){},391:function(e,t){},417:function(e,t){},419:function(e,t){},420:function(e,t){},426:function(e,t){},428:function(e,t){},446:function(e,t){},449:function(e,t){},465:function(e,t){},468:function(e,t){},506:function(e,t){},508:function(e,t){},566:function(e,t,n){},709:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(67),i=n.n(r),c=(n(358),n(63)),l=n(64),u=n(37),s=n(66),p=n(65),h=(n(359),n(360),n(712)),d=n(714),m=n(715),f=n(716),g=(n(211),n(29)),b=n.n(g);delete b.a.Icon.Default.prototype._getIconUrl,b.a.Icon.Default.mergeOptions({iconRetinaUrl:n(361),iconUrl:n(362),shadowUrl:n(363)});var v=function(e){Object(s.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={currentLocation:{lat:45.51,lng:-122.68},zoom:13,userLocation:[],userLocationFound:!1},a.getUserPosition=a.getUserPosition.bind(Object(u.a)(a)),a}return Object(l.a)(n,[{key:"getUserPosition",value:function(){var e=this;navigator.geolocation.getCurrentPosition((function(t){e.setState({userLocation:[t.coords.latitude,t.coords.longitude],userLocationFound:!0,currentLocation:[t.coords.latitude,t.coords.longitude]}),console.log(e.state)}))}},{key:"componentDidMount",value:function(){this.getUserPosition()}},{key:"render",value:function(){var e=this.state.userLocationFound?o.a.createElement(h.a,{position:this.state.userLocation},o.a.createElement(d.a,null,"Your location")):null;return o.a.createElement("div",{id:"leaflet-container"},o.a.createElement(m.a,{center:this.state.currentLocation,zoom:13,maxZoom:18},o.a.createElement(f.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),e))}}]),n}(a.Component),x=n(139),E=n(50),O=n.n(E),y=n(94),j=n(45),w=n(203),k=n(141),I=n(23);function C(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  background: #343a40;\n  transform: ",";\n  height: 100vh;\n  text-align: left;\n  padding: 2rem;\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom:0;\n  transition: transform 0.3s ease-in-out;\n  z-index: 1501;\n\n  @media (max-width: 150px) {\n      width: 100%;\n    }\n\n  a {\n    font-size: 1.5rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: Light;\n    letter-spacing: 0.5rem;\n    color: #FFFFF;\n    text-decoration: none;\n    transition: color 0.3s linear;\n  \n    \n    @media (max-width: 150px) {\n      font-size: 1rem;\n      text-align: center;\n    }\n\n    &:hover {\n      color: #343078;\n    }\n  }\n"]);return C=function(){return e},e}var S=function(e){Object(s.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={username:"",useremail:"",userID:"",stitch_res:[],menuOpen:a.props.open},a.login=a.login.bind(Object(u.a)(a)),a.logout=a.logout.bind(Object(u.a)(a)),a.addamodule=a.addamodule.bind(Object(u.a)(a)),a.listmymodules=a.listmymodules.bind(Object(u.a)(a)),console.log(e),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(y.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="capstonear_app-xkqng",j.c.hasAppClient(t)&&(this.client=j.c.getAppClient(t),n=this.client.getServiceClient(j.b.factory,"mongodb-atlas"),this.db=n.db("APP"),this.client.auth.isLoggedIn&&this.client.auth.authInfo.userProfile&&(this.setState({username:this.client.auth.authInfo.userProfile.data.first_name,useremail:this.client.auth.authInfo.userProfile.data.email,userID:this.client.auth.authInfo.userId,userImg:this.client.auth.authInfo.userProfile.data.picture}),console.log(this.client.auth.authInfo.userProfile.data)),console.log(this.props.open));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(y.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new j.a,this.client.auth.loginWithRedirect(t),console.log(this.state);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(y.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.client.auth.logout();case 2:this.setState({username:"",useremail:"",userID:""}),window.location.reload();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addamodule",value:function(){this.db.collection("MODULES").insertOne({userID:this.state.userID,name:this.state.temp_module_name,owner:this.state.useremail}).catch(console.error)}},{key:"listmymodules",value:function(){var e=this;this.client.auth.isLoggedIn&&this.db.collection("PINS").find({_id:Object(w.ObjectId)("5ebed1bc5992681f357d7948")}).asArray().then((function(t){e.setState({stitch_res:t}),console.log(e.state.stitch_res[0])}))}},{key:"render",value:function(){var e=this;return o.a.createElement(L,{open:this.props.open,setOpen:this.props.setOpen},o.a.createElement("div",{style:{position:"absolute",top:"2rem"}},o.a.createElement("img",{src:this.state.userImg,style:{maxHeigh:"80px",maxWidth:"80px",borderRadius:"50%",top:"1rem"}}),o.a.createElement("p",{style:{fontSize:"1.5rem",top:"4rem",color:"white",zIndex:1002}}," Welcome, ",o.a.createElement("br",null)," ",this.state.username," ")),o.a.createElement("ul",{style:{listStyleType:"none",paddingLeft:0}},o.a.createElement("li",null,o.a.createElement("a",{href:"#/",onClick:function(){e.props.setOpen(!e.props.open)}},"Home")),o.a.createElement("br",null),o.a.createElement("li",null,o.a.createElement("a",{href:"#/droppin",onClick:function(){e.props.setOpen(!e.props.open)}},"Drop pin"))),o.a.createElement("a",{href:"#",onClick:this.logout,style:{position:"absolute",fontSize:"1rem",fontColor:"#00000",bottom:"10rem"}},"Log Out "))}}]),n}(a.Component),L=k.a.nav(C(),(function(e){return e.open?"translateX(-100)":"translateX(100%)"})),F=Object(I.f)(S),P=(n(566),function(e){Object(s.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(c.a)(this,n);return(e=t.call(this)).client=j.c.getAppClient("capstonear_app-xkqng"),e.login=e.login.bind(Object(u.a)(e)),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.client.auth.hasRedirectResult()&&(console.log("has results"),this.client.auth.handleRedirectResult().then((function(t){e.setState({username:e.client.auth.authInfo.userProfile.data.name,useremail:e.client.auth.authInfo.userProfile.data.email,userID:e.client.auth.authInfo.userId}),window.location.replace("#/")})))}},{key:"login",value:function(){var e=Object(y.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new j.a,e.next=3,this.client.auth.loginWithRedirect(t);case 3:console.log(this.state);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement("div",{class:"row justify-content-center",style:{position:"fixed",margin:"auto",left:0,right:0,top:0,bottom:0,height:"50px"}},o.a.createElement("button",{class:"btn btn-primary",onClick:this.login},"Login with Google"))}}]),n}(a.Component)),D=n(350),z=n(95),_={position:"fixed",width:"60px",height:"60px",bottom:"40px",right:"40px",backgroundColor:"#0C9",color:"#FFF",borderRadius:"50px",textAlign:"center",boxShadow:"2px 2px 3px #999",zIndex:1500},R=function(){var e=Object(a.useState)([45,45]),t=Object(z.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)([]),c=Object(z.a)(i,2),l=c[0],u=c[1],s=Object(a.useState)(!1),p=Object(z.a)(s,2),g=p[0],b=p[1];return Object(a.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,n=t.latitude,a=t.longitude;r([n,a]),console.log(e.coords)}))}),[]),o.a.createElement(m.a,{center:n,zoom:13,onClick:function(e){g&&(u([].concat(Object(D.a)(l),[o.a.createElement(h.a,{position:[e.latlng.lat,e.latlng.lng]},o.a.createElement(d.a,null,"testing"))])),b(!g))}},o.a.createElement("button",{style:_,onClick:function(){return b(!g)}},o.a.createElement("div",{style:{fontSize:"40px"}},"+")),o.a.createElement(f.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),o.a.createElement(h.a,{position:n},o.a.createElement(d.a,null,"Your location")),l)};n(305);function M(){var e=Object(x.a)(["\n  position: fixed;\n  top: 10px;\n  right: 2rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  width: 2rem;\n  height: 2rem;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  padding: 0;\n  z-index: 1502;\n\n  &:focus {\n    outline: none;\n  }\n\n  div {\n    width: 2rem;\n    height: 0.25rem;\n    background: ",";\n    border-radius: 10px;\n    transition: all 0.3s linear;\n    position: relative;\n    transform-origin: 1px;\n\n    :first-child {\n      transform: ",";\n    }\n\n    :nth-child(2) {\n      opacity: ",";\n      transform: ",";\n    }\n\n    :nth-child(3) {\n      transform: ",";\n    }\n  }\n"]);return M=function(){return e},e}var U=k.a.button(M(),(function(e){e.open;return"#FFFFFF"}),(function(e){return e.open?"rotate(45deg)":"rotate(0)"}),(function(e){return e.open?"0":"1"}),(function(e){return e.open?"translateX(20px)":"translateX(0)"}),(function(e){return e.open?"rotate(-45deg)":"rotate(0)"})),A=function(e){var t=e.open,n=e.setOpen;return o.a.createElement(U,{open:t,onClick:function(){return n(!t)}},o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null))},N=function(){var e=o.a.useState(!1),t=Object(z.a)(e,2),n=t[0],a=t[1];return o.a.createElement("div",null,o.a.createElement(A,{open:n,setOpen:a}),o.a.createElement(F,{open:n,setOpen:a}))},W=n(713),H=n(204),X=function(e){Object(s.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(c.a)(this,n),(e=t.call(this)).Home=function(){return e.client.auth.isLoggedIn?o.a.createElement("div",null,o.a.createElement(v,null)):o.a.createElement(P,null)},e.NavMenu=function(){if(e.client.auth.isLoggedIn)return o.a.createElement(N,null)};var a="capstonear_app-xkqng";return e.client=j.c.hasAppClient(a)?j.c.getAppClient(a):j.c.initializeDefaultAppClient(a),e.client.auth.hasRedirectResult()&&(console.log("has results"),e.client.auth.handleRedirectResult().then((function(e){window.location.reload()}))),e.state={isLoggedIn:!1},e.NavMenu=e.NavMenu.bind(Object(u.a)(e)),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){}},{key:"handleStitchClient",value:function(){this.setState({stitchClient:this.client,userProfile:this.client.auth.userProfile,isLoggedIn:!0})}},{key:"render",value:function(){return o.a.createElement(H.a,{basename:"/"},o.a.createElement("div",{className:"",style:{height:"100vh"}},o.a.createElement("div",null,o.a.createElement(W.a,{className:"navbar bg-dark navbar-dark",style:{position:"fixed",width:"100%",height:"50px",zIndex:1500}},o.a.createElement(W.a.Brand,null,"CS Capstone")),this.NavMenu()),o.a.createElement("div",null,o.a.createElement(I.c,null,o.a.createElement(I.a,{exact:!0,path:"/"},this.Home),o.a.createElement(I.a,{exact:!0,path:"/menu",component:F}),o.a.createElement(I.a,{exact:!0,path:"/droppin"},o.a.createElement(R,null)),o.a.createElement(I.a,{exact:!0,path:"/create_module",component:q}),o.a.createElement(I.a,{exact:!0,path:"/view_module",component:B})))))}}]),n}(a.Component),q=function(){return o.a.createElement("h2",null,"Admin")},B=function(){return o.a.createElement("h2",null,"Student")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[353,1,2]]]);
//# sourceMappingURL=main.9e82d56c.chunk.js.map